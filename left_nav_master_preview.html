<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TeachWithMrC Left Navigation Preview</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800&display=swap" rel="stylesheet" />
  <style>
    :root {
      --bg: #f4f7fb;
      --panel: #ffffff;
      --line: #dfe6ef;
      --text: #142033;
      --muted: #5e6f87;
      --accent: #1b6fd8;
      --accent-soft: #e9f2ff;
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: "Poppins", sans-serif;
      background: var(--bg);
      color: var(--text);
    }

    .app {
      min-height: 100%;
      display: grid;
      grid-template-columns: 340px 1fr;
    }

    .nav {
      background: var(--panel);
      border-right: 1px solid var(--line);
      padding: 16px 14px 18px;
      overflow: auto;
    }

    .brand {
      border: 1px solid var(--line);
      border-radius: 12px;
      background: #fff;
      padding: 12px 12px 10px;
      margin-bottom: 12px;
    }
    .brand h1 {
      font-size: 16px;
      line-height: 1.2;
      margin: 0 0 2px;
      font-weight: 800;
    }
    .brand p {
      margin: 0;
      font-size: 12px;
      color: var(--muted);
    }

    .search {
      width: 100%;
      border: 1px solid var(--line);
      border-radius: 10px;
      font: inherit;
      font-size: 13px;
      padding: 9px 10px;
      margin-bottom: 12px;
      outline: none;
    }
    .search:focus {
      border-color: #93b9ef;
      box-shadow: 0 0 0 3px rgba(27, 111, 216, 0.12);
    }

    .section {
      margin-bottom: 12px;
      border: 1px solid var(--line);
      border-radius: 12px;
      overflow: hidden;
      background: #fff;
    }

    .section-title {
      margin: 0;
      font-size: 12px;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      color: #3a4f69;
      background: #f3f7fd;
      border-bottom: 1px solid var(--line);
      padding: 8px 10px;
      font-weight: 700;
    }

    .links {
      list-style: none;
      margin: 0;
      padding: 6px;
      display: grid;
      gap: 4px;
    }

    .links a {
      display: block;
      text-decoration: none;
      color: var(--text);
      border-radius: 8px;
      border: 1px solid transparent;
      font-size: 13px;
      font-weight: 600;
      line-height: 1.2;
      padding: 8px 9px;
      transition: 0.12s ease;
    }
    .links a:hover {
      border-color: var(--line);
      background: #f8fbff;
    }
    .links a.active {
      color: var(--accent);
      background: var(--accent-soft);
      border-color: #bdd4f7;
    }

    .main {
      min-width: 0;
      display: grid;
      grid-template-rows: auto 1fr;
      background: #eef3f9;
    }
    .main-top {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
      background: #fff;
      border-bottom: 1px solid var(--line);
      padding: 10px 14px;
    }
    .title {
      min-width: 0;
    }
    .title h2 {
      margin: 0;
      font-size: 15px;
      font-weight: 800;
    }
    .title p {
      margin: 0;
      font-size: 12px;
      color: var(--muted);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      max-width: 70vw;
    }

    .actions {
      display: flex;
      align-items: center;
      gap: 8px;
      flex-wrap: wrap;
      justify-content: flex-end;
    }
    .btn {
      appearance: none;
      border: 1px solid var(--line);
      background: #fff;
      color: #213147;
      border-radius: 8px;
      font: inherit;
      font-size: 12px;
      font-weight: 700;
      padding: 7px 10px;
      cursor: pointer;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
    }
    .btn.primary {
      background: #111;
      color: #fff;
      border-color: #111;
    }

    iframe {
      width: 100%;
      height: calc(100vh - 58px);
      border: 0;
      background: #fff;
    }

    @media (max-width: 980px) {
      .app { grid-template-columns: 1fr; }
      .nav {
        border-right: 0;
        border-bottom: 1px solid var(--line);
        max-height: 46vh;
      }
      iframe { height: 56vh; }
    }
  </style>
</head>
<body>
  <div class="app">
    <aside class="nav" aria-label="Left navigation">
      <div class="brand">
        <h1>TeachWithMrC Navigation</h1>
        <p>Updated links, including new pages and generators.</p>
      </div>
      <input id="search" class="search" type="search" placeholder="Filter links..." />
      <div id="sections"></div>
    </aside>

    <main class="main">
      <div class="main-top">
        <div class="title">
          <h2 id="pageTitle">Select a page</h2>
          <p id="pagePath">Click any link in the left navigation.</p>
        </div>
        <div class="actions">
          <a id="openTab" class="btn" href="#" target="_blank" rel="noopener">Open in New Tab</a>
          <button id="copyPath" class="btn primary" type="button">Copy Link</button>
        </div>
      </div>
      <iframe id="previewFrame" title="Page Preview"></iframe>
    </main>
  </div>

  <script>
    const NAV_DATA = [
      {
        section: "Main / Preview Hubs",
        links: [
          { label: "Home", href: "index.html" },
          { label: "Mobile Sales Refresh", href: "mobile-sales-refresh.html" },
          { label: "Phonics Preview", href: "phonicspreview.html" },
          { label: "Word Map Preview", href: "wordmap2preview.html" },
          { label: "Tic Tac Toe Preview", href: "tictacpreview.html" },
          { label: "Fluency Grid Preview", href: "fluencygridpreview.html" },
          { label: "Roll and Read Preview", href: "rollreadpreview.html" },
          { label: "Word Ladder Preview", href: "wordladderpreview.html" }
        ]
      },
      {
        section: "SOR / Spelling / Mapping",
        links: [
          { label: "Word Mapping Generator", href: "wordmapmaster.html" },
          { label: "Spelling by Skill Generator", href: "spelling.html" },
          { label: "Pyramid Spelling Generator", href: "pyramid_spelling_generator.html" },
          { label: "Writing Worksheet Generator", href: "writing.html" },
          { label: "Tic Tac Toe Generator", href: "tic_tac_toe_generator.html" },
          { label: "Fluency Grid Generator", href: "fluency_grid_generator.html" },
          { label: "Sentence Generator", href: "sentence_generator.html" }
        ]
      },
      {
        section: "Math Generators (New + Core)",
        links: [
          { label: "Rounding", href: "rounding.html" },
          { label: "Addition Graphic Organizer", href: "addition_graphic_organizer_generator.html" },
          { label: "Subtraction Graphic Organizer", href: "subtraction_graphic_organizer_generator.html" },
          { label: "Manipulatives Add/Sub", href: "manipulatives_add_sub_generator.html?v=compact-ui-20260221" },
          { label: "Partial Products 2x1", href: "partial_products_2x1_generator.html" },
          { label: "Long Division Mainstream", href: "long_division_mainstream_generator.html" },
          { label: "Long Division Color-Coded", href: "long_division_colorcoded_generator.html" },
          { label: "Ultimate Math TicTacToe + Roll/Read", href: "ultimate_math_tictactoe_roll_read.html" },
          { label: "Ultimate Math Printables Hub", href: "ultimate_math_printables_hub.html" },
          { label: "Ten Frames", href: "tenframes.html" },
          { label: "Counting Generator", href: "counting_generator.html" },
          { label: "Counting Coin Generator", href: "counting_coin_generator.html" },
          { label: "Coin Counting Dot Game", href: "coin_counting_dot_game.html" }
        ]
      },
      {
        section: "Games / Engagement",
        links: [
          { label: "Lock Escape Generator", href: "lock_escape_generator.html" },
          { label: "Picture Tic Tac Toe", href: "picture_tictactoe.html" },
          { label: "Snake Game", href: "snake.html" },
          { label: "Snowball", href: "snowball.html" },
          { label: "Maze", href: "maze.html" },
          { label: "Maze 2", href: "maze2.html" }
        ]
      }
    ];

    const sectionsEl = document.getElementById("sections");
    const searchEl = document.getElementById("search");
    const frame = document.getElementById("previewFrame");
    const pageTitle = document.getElementById("pageTitle");
    const pagePath = document.getElementById("pagePath");
    const openTab = document.getElementById("openTab");
    const copyPath = document.getElementById("copyPath");

    let activeHref = "";

    function render(filter = "") {
      const q = filter.trim().toLowerCase();
      sectionsEl.innerHTML = "";

      NAV_DATA.forEach(group => {
        const filtered = group.links.filter(l =>
          !q || l.label.toLowerCase().includes(q) || l.href.toLowerCase().includes(q)
        );
        if (!filtered.length) return;

        const section = document.createElement("section");
        section.className = "section";

        const h3 = document.createElement("h3");
        h3.className = "section-title";
        h3.textContent = group.section;
        section.appendChild(h3);

        const ul = document.createElement("ul");
        ul.className = "links";

        filtered.forEach(item => {
          const li = document.createElement("li");
          const a = document.createElement("a");
          a.href = item.href;
          a.textContent = item.label;
          if (item.href === activeHref) a.classList.add("active");
          a.addEventListener("click", e => {
            e.preventDefault();
            setActive(item.href, item.label);
          });
          li.appendChild(a);
          ul.appendChild(li);
        });

        section.appendChild(ul);
        sectionsEl.appendChild(section);
      });
    }

    function setActive(href, label) {
      activeHref = href;
      pageTitle.textContent = label;
      pagePath.textContent = href;
      frame.src = href;
      openTab.href = href;
      render(searchEl.value);
    }

    searchEl.addEventListener("input", () => render(searchEl.value));

    copyPath.addEventListener("click", async () => {
      if (!activeHref) return;
      const abs = new URL(activeHref, window.location.href).href;
      try {
        await navigator.clipboard.writeText(abs);
        copyPath.textContent = "Copied!";
      } catch {
        copyPath.textContent = "Copy Failed";
      }
      setTimeout(() => { copyPath.textContent = "Copy Link"; }, 1200);
    });

    setActive("mobile-sales-refresh.html", "Mobile Sales Refresh");
  </script>
</body>
</html>
