<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Ten Frame Generator</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&display=swap" rel="stylesheet">

<style>
  *{ box-sizing:border-box; }
  html, body{
    margin:0;
    padding:0;
    font-family:Poppins, Arial, sans-serif;
    background:#fff;
    color:#111;
    overflow-x:hidden;
  }

  .wrap{
    max-width: 900px;
    margin: 0 auto;
    padding: 12px;
  }

  /* Controls */
  .controls{
    border:2px solid #111;
    border-radius:12px;
    padding:10px;
    margin-bottom:12px;
  }
  .controls-row{
    display:flex;
    flex-wrap:wrap;
    gap:10px 12px;
    align-items:flex-end;
  }
  .field{ display:flex; flex-direction:column; gap:4px; }
  label{ font-size:12px; font-weight:800; }
  select,input{
    height:36px;
    border:2px solid #111;
    border-radius:10px;
    padding:6px 10px;
    font-family:Poppins;
    font-size:14px;
  }
  .check{
    display:flex;
    align-items:center;
    gap:8px;
    font-size:13px;
    font-weight:700;
    user-select:none;
  }
  button{
    height:38px;
    padding:0 16px;
    border:2px solid #111;
    border-radius:10px;
    font-weight:900;
    background:#111;
    color:#fff;
    cursor:pointer;
  }
  button.secondary{
    background:#fff;
    color:#111;
  }

  /* Sheet */
  .title{
    text-align:center;
    font-size:32px;
    font-weight:900;
    margin:6px 0 10px;
  }

  .table{
    border:2px solid #777;
  }
  .row{
    display:grid;
    grid-template-columns: 1fr 1fr;
  }

  /* BIGGER PROBLEM AREA */
  .cell{
    border-right:2px solid #777;
    border-bottom:2px solid #777;
    min-height: 215px;
    padding: 10px;
    display:flex;
    flex-direction:column;
    align-items:center;
    gap:10px;
  }
  .row .cell:last-child{ border-right:none; }
  .table .row:last-child .cell{ border-bottom:none; }

  .expr{
    font-size:24px;
    font-weight:900;
    text-align:center;
    line-height:1.1;
  }
  .blank{
    display:inline-block;
    width:105px;
    border-bottom:3px solid #111;
    transform: translateY(-3px);
  }

  /* BIGGER TEN FRAMES */
  .frames{
    display:grid;
    gap:10px;
    width: 260px;
  }
  .tenframe{
    border:2px solid #777;
  }
  .tfgrid{
    display:grid;
    grid-template-columns: repeat(5, 1fr);
  }

  /* Bigger cell height = bigger frames */
  .tfcell{
    border:2px solid #777;
    height: 40px;
    display:flex;
    align-items:center;
    justify-content:center;
    position:relative;
  }

  /* Cross out */
  .cross::before, .cross::after{
    content:"";
    position:absolute;
    width:86%;
    height:3px;
    background:#111;
    top:50%;
    left:7%;
  }
  .cross::before{ transform:rotate(45deg); }
  .cross::after{ transform:rotate(-45deg); }

  .footer{
    text-align:center;
    font-size:12px;
    font-weight:800;
    margin-top:10px;
  }

  @media print{
    .controls{ display:none; }
    .wrap{ padding:0; }
  }
</style>
</head>

<body>
<div class="wrap">

  <div class="controls">
    <div class="controls-row">
      <div class="field">
        <label>Operation</label>
        <select id="mode">
          <option value="add">Addition</option>
          <option value="sub">Subtraction</option>
        </select>
      </div>

      <div class="field">
        <label>Lowest #</label>
        <input id="min" type="number" value="0" min="0" max="20">
      </div>

      <div class="field">
        <label>Highest #</label>
        <input id="max" type="number" value="20" min="1" max="20">
      </div>

      <div class="check">
        <input id="prefill" type="checkbox" checked>
        <label for="prefill">Prefill first number</label>
      </div>

      <button type="button" onclick="build()">Generate</button>
      <button type="button" class="secondary" onclick="window.print()">Print</button>
    </div>
  </div>

  <div class="title">Add and Subtract Using Ten Frames</div>

  <div class="table" id="table"></div>

  <div class="footer">Copyright - Generated from InterventionStation.com - @TeachWithMrC</div>
</div>

<script>
  function r(min,max){ return Math.floor(Math.random()*(max-min+1))+min; }
  function clamp(n,a,b){ return Math.max(a, Math.min(b,n)); }

  function dots(n){
    n = clamp(n,0,20);
    const f1 = Array(10).fill(false);
    const f2 = Array(10).fill(false);
    for(let i=0;i<Math.min(10,n);i++) f1[i]=true;
    for(let i=0;i<Math.max(0,n-10);i++) f2[i]=true;
    return [f1,f2];
  }

  function dotSVG(){
    const ns="http://www.w3.org/2000/svg";
    const svg=document.createElementNS(ns,"svg");
    svg.setAttribute("viewBox","0 0 100 100");
    svg.style.width="88%";
    svg.style.height="88%";
    const c=document.createElementNS(ns,"circle");
    c.setAttribute("cx","50");
    c.setAttribute("cy","50");
    c.setAttribute("r","44");
    c.setAttribute("fill","#111");
    svg.appendChild(c);
    return svg;
  }

  function frame(arr){
    const ten=document.createElement("div");
    ten.className="tenframe";
    const g=document.createElement("div");
    g.className="tfgrid";

    arr.forEach((on)=>{
      const cell=document.createElement("div");
      cell.className="tfcell";
      if(on) cell.appendChild(dotSVG());
      g.appendChild(cell);
    });

    ten.appendChild(g);
    return ten;
  }

  function makeAdd(max){
    // make-a-ten friendly
    for(let t=0;t<300;t++){
      const a=r(6,9);
      const b=r(Math.max(1,11-a),9);
      const s=a+b;
      if(s<=max && a!==max && b!==max) return {a,b};
    }
    return {a:9,b:4};
  }

  function build(){
    const mode=document.getElementById("mode").value;
    const min=+document.getElementById("min").value;
    const max=+document.getElementById("max").value;
    const prefill=document.getElementById("prefill").checked;

    const table=document.getElementById("table");
    table.innerHTML="";

    const qs=[];
    while(qs.length<8){
      if(mode==="add"){
        const {a,b}=makeAdd(max);
        qs.push({a,b});
      }else{
        const a=r(11,max);
        const b=r(Math.max(1,a-9),9);
        const ans=a-b;
        if(ans<min) continue;
        qs.push({a,b});
      }
    }

    for(let row=0; row<4; row++){
      const rowEl=document.createElement("div");
      rowEl.className="row";

      [qs[row*2], qs[row*2+1]].forEach(q=>{
        const cell=document.createElement("div");
        cell.className="cell";

        cell.innerHTML = `<div class="expr">${q.a} ${mode==="add"?"+":"âˆ’"} ${q.b} = <span class="blank"></span></div>`;

        const fs=document.createElement("div");
        fs.className="frames";

        if(prefill){
          const [a1,a2]=dots(q.a);
          fs.appendChild(frame(a1));
          fs.appendChild(frame(a2));
        }else{
          fs.appendChild(frame(Array(10).fill(false)));
          fs.appendChild(frame(Array(10).fill(false)));
        }

        cell.appendChild(fs);
        rowEl.appendChild(cell);
      });

      table.appendChild(rowEl);
    }
  }

  build();
</script>
</body>
</html>
